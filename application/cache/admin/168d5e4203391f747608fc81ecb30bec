
<div id="viewTools">
	<button data-role="submit" class="btn btn-primary btn-ripple" ng-click="save(true)" ng-disabled="editForm.$invalid">Terminer<i class="fa fa-check-circle"></i></button>
<button data-role="submit" class="btn btn-primary btn-ripple" ng-click="save()" ng-disabled="editForm.$invalid">Sauver<i class="fa fa-save"></i></button>
<a data-role="cancel" class="btn btn-default btn-ripple" href="#/{{backUrl ? backUrl : section}}">Retour<i class="fa fa-reply"></i></a>
<button data-role="delete" ng-if="mode != 'new'" class="btn btn-danger btn-ripple" ng-click="delete()">Supprimer<i class="fa fa-trash-o"></i></button>
<span id="mainAlert">{{alert}}</span>
</div>


<div>
	<h1>Compte : {{item.username}}</h1>
	<hr>

	<div error-sumary></div>
	<div ng-if="item.active == 0" activation-message ></div>

	<div class="tabbable" id="edit-tabset" vertical="true">
		<ul class="nav nav-tabs nav-stacked">
			<li ng-class="panes.profile">
	  			<a ng-click="selectPane('panes', 'profile')">
				 <i class="fa fa-user"></i>
				</a>
			</li>
			<li ng-if="item.user_id" ng-class="panes.contact_info">
	  			<a ng-click="selectPane('panes', 'contact_info')">
				 <i class="fa fa-envelope"></i>
				</a>
			</li>
			<li ng-class="panes.config">
	  			<a ng-click="selectPane('panes', 'config')">
				 <i class="fa fa-cog"></i>
				</a>
			</li>
		</ul>

		<div class="tab-content">
			<div class="tab-pane" ng-class="panes.profile">
				<h3>Profil</h3>

				<div class="row">
					<form name="editForm" class="form form-horizontal">
						<div class="col-sm-6">
							<h4>Données d'identification</h4>
							<hr />
							<div class="form-group">
								<label class="control-label col-xs-3" for"inputName">Identifiant</label>
								<div class="col-xs-6">
									<input type="text" name="username" value="" id="item_username" ng-model="item.username" ng-maxlength="15" data-required="true" validation="slug"  /><div class="label label-danger" ng-show="editForm.username.$error.required && editForm.username.$dirty">Ce champ est requis</div><div class="label label-danger" ng-show="editForm.username.$error.validation">{{item_username}}</div><div class="label label-danger" ng-show="editForm.username.$error.maxlength">Max. 15 caractères.</div>								</div>

							</div>
							<div ng-if="item.user_id" class="form-group">
								<label class="control-label col-xs-3" for"inputNewPwd">Changement de mot de passe</label>
								<div class="col-xs-6">
									<input ng-model="item.pwd1" validation="password" type="password" id="inputNewPwd" name="newpwd">
									<div class="label label-important" ng-show="editForm.newpwd.$error.validation">{{inputNewPwd}}</div>
								</div>
							</div>
							<div ng-if="!item.user_id" class="form-group">
								<label class="control-label col-xs-3" for"inputNewPwd">Mot de passe</label>
								<div class="col-xs-6">
									<input ng-model="item.pwd1" data-required="true" validation="password" type="password" id="inputNewPwd" name="newpwd">
								</div>
							</div>
							<div class="form-group" ng-if="item.pwd1">
								<label class="control-label col-xs-3" for"inputPwdcheck">Répétez</label>
								<div class="col-xs-6">
									<input ng-model="item.pwd2" type="password" id="inputPwdcheck" name="pwdcheck">
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-3" for"inputEmail">Email</label>
								<div class="col-xs-6">
									<input type="text" name="email" value="" id="item_email" ng-model="item.email" ng-maxlength="100" data-required="true" validation="mail"  /><div class="label label-danger" ng-show="editForm.email.$error.required && editForm.email.$dirty">Ce champ est requis</div><div class="label label-danger" ng-show="editForm.email.$error.validation">{{item_email}}</div><div class="label label-danger" ng-show="editForm.email.$error.maxlength">Max. 100 caractères.</div>								</div>
							</div>

							<h4>Droits</h4>
							<hr />
							<div class="form-group">
								<label class="control-label col-xs-3" for"inputEmail">Groupe d'utilisateurs</label>
								<div class="col-xs-6">
									<select  ng-model="item.group_fk">
										<option value="{{group.id}}" ng-repeat="group in userGroups">{{group.ugrp_name}}</option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-sm-6" ng-if="item.user_id">
							<h4>Informations complémentaires</h4>
							<hr>
							<div class="form-group">
								<label for="inputFirstName" class="control-label col-xs-3 col-xs-3">Nom</label>
								<div class="col-xs-6">
									<input type="text" name="first_name" value="" id="item_first_name" ng-model="item.first_name" ng-maxlength="40"  /><div class="label label-danger" ng-show="editForm.first_name.$error.maxlength">Max. 40 caractères.</div>								</div>
							</div>
							<div class="form-group">
								<label for="inputLastName" class="control-label col-xs-3">Prénom</label>
								<div class="col-xs-6">
									<input type="text" name="last_name" value="" id="item_last_name" ng-model="item.last_name" ng-maxlength="40"  /><div class="label label-danger" ng-show="editForm.last_name.$error.maxlength">Max. 40 caractères.</div>								</div>
							</div>

							<div class="form-group">
								<label for="inputBithDay" class="control-label col-xs-3">Date de naissance</label>
								<div class="col-xs-6">
									<input type="text" class="form-control" datepicker-popup="dd-MM-yyyy" ng-model="item.birthdate" is-open="opened" min="minDate" />
								</div>
							</div>          

							<div class="form-group">
								<label class="control-label col-xs-3">Photo</label>
								<div class="col-xs-9">
									<div image-upload config="uploader" item="item.src" ></div>
								</div>
							</div>
						</div>
					</form>
				</div>

				
			</div>

			<div class="tab-pane" ng-class="panes.contact_info" ng-if="item.user_id">
				<div contact-infos item-id="item.user_id" ></div>
			</div>

			<div class="tab-pane" ng-class="panes.config">
				<h3>Configuration</h3>

				<h4>Couleur de l'interface</h4>
				<input type="text" name="custom_ui_admin" value="" id="item_custom_ui_admin" ng-model="item.custom_ui_admin"  />			</div>
		</div>
	</div>
