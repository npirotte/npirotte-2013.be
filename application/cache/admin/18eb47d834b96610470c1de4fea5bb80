
<div id="viewTools">
	<button data-role="submit" class="btn btn-primary btn-ripple" ng-click="save(true)" ng-disabled="editForm.$invalid">Terminer<i class="fa fa-check-circle"></i></button>
<button data-role="submit" class="btn btn-primary btn-ripple" ng-click="save()" ng-disabled="editForm.$invalid">Sauver<i class="fa fa-save"></i></button>
<a data-role="cancel" class="btn btn-default btn-ripple" href="#/{{backUrl ? backUrl : section}}">Retour<i class="fa fa-reply"></i></a>
<button data-role="delete" ng-if="mode != 'new'" class="btn btn-danger btn-ripple" ng-click="delete()">Supprimer<i class="fa fa-trash-o"></i></button>
<span id="mainAlert">{{alert}}</span>
</div>


<div>
	<h1>Portfolio: #{{item.id}} {{item.db_title_default}}</h1>
	<hr>

	<div class="row">

		<div class="col-md-9">

			<form name="editForm" class="form form-horizontal">

				<div class="row">
					<div class="col-sm-6">
				
						<h3>Contenu</h3>
						<hr>

													<div class="form-group">
								<label class="control-label col-sm-2">Titre fr</label>
								<div class="col-sm-6">
									<input type="text" name="name_fr" value="" id="item_name_fr" ng-model="item.name_fr" ng-maxlength="40" data-required="true"  /><div class="label label-danger" ng-show="editForm.name_fr.$error.required && editForm.name_fr.$dirty">Ce champ est requis</div><div class="label label-danger" ng-show="editForm.name_fr.$error.maxlength">Max. 40 caractères.</div>								</div>
							</div>
													<div class="form-group">
								<label class="control-label col-sm-2">Titre en</label>
								<div class="col-sm-6">
									<input type="text" name="name_en" value="" id="item_name_en" ng-model="item.name_en" ng-maxlength="40" data-required="true"  /><div class="label label-danger" ng-show="editForm.name_en.$error.required && editForm.name_en.$dirty">Ce champ est requis</div><div class="label label-danger" ng-show="editForm.name_en.$error.maxlength">Max. 40 caractères.</div>								</div>
							</div>
						
						<div class="form-group">
							<label class="control-label col-xs-2" for"inputIcon">Icone</label>
							<div class="col-xs-6">
																<span icons-picker ng-model="item.icon"></span>
							</div>
						</div>

						<div class="form-group">
							<label class="control-label col-xs-2" for"inputWeight">Ordre</label>
							<div class="col-xs-6">
								<input type="text" name="weight" value="" id="item_weight" ng-model="item.weight"  />							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div>
							<h3>Catégories</h3>
							<hr>
							
					      		<table>
					      			<tr>
					      				<td>
					      					<label for="">Ajouter &nbsp;</label>
					      				</td>
					      				<td>
					      					<input ng-model="newCategory.name" type="text">
					      				</td>
					      				<td>
					      					<button ng-click="createNewCategoty()"><i class="circle-icon fa fa-plus"></i></button>
					      				</td>
					      			</tr>
					      		</table>
					      	
					      	<br>
							<div classs="checkbox" ng-repeat="category in categories">
								<label >
									<checkbox ng-model="item.categories[category.id]" value="{{category.id}}"></checkbox> {{category.name}}
							    </label>
							</div>
							
						</div>
					</div>
						<div class="clear"></div>

						<div class="col-sm-12">
							<tabset>
																	<tab heading="fr">
										<br />
										<div class="form-group">
											<label class="control-label col-sm-2">Résumé fr</label>
											<div class="col-sm-6">
												<textarea name="resume_fr" cols="40" rows="3" id="item_resume_fr" ng-model="item.resume_fr" ng-maxlength="300" ></textarea><div class="label label-danger" ng-show="editForm.resume_fr.$error.maxlength">Max. 300 caractères.</div>											</div>
										</div>

										<div class="form-group">
											<label class="control-label col-sm-2">Contenu fr</label>
											<div class="col-sm-6">
												<div ng-if="item || mode == 'new'">
													<textarea name="description_fr" cols="40" rows="10" id="item_description_fr" ng-model="item.description_fr" ng-maxlength="1000" ui-tinymce="tinymceOptions" ></textarea><div class="label label-danger" ng-show="editForm.description_fr.$error.maxlength">Max. 1000 caractères.</div>												</div>
											</div>
										</div>
									</tab>
																	<tab heading="en">
										<br />
										<div class="form-group">
											<label class="control-label col-sm-2">Résumé en</label>
											<div class="col-sm-6">
												<textarea name="resume_en" cols="40" rows="3" id="item_resume_en" ng-model="item.resume_en" ng-maxlength="300" ></textarea><div class="label label-danger" ng-show="editForm.resume_en.$error.maxlength">Max. 300 caractères.</div>											</div>
										</div>

										<div class="form-group">
											<label class="control-label col-sm-2">Contenu en</label>
											<div class="col-sm-6">
												<div ng-if="item || mode == 'new'">
													<textarea name="description_en" cols="40" rows="10" id="item_description_en" ng-model="item.description_en" ng-maxlength="1000" ui-tinymce="tinymceOptions" ></textarea><div class="label label-danger" ng-show="editForm.description_en.$error.maxlength">Max. 1000 caractères.</div>												</div>
											</div>
										</div>
									</tab>
															</tabset>
						</div>

						<div class="clear"></div>
						<div class="col-sm-6" ng-hide="hideForNew">
							<h3>Media</h3>
							<hr>

							<div ng-if="item.id" assets-list-modal></div>
						</div>

						<div class="col-sm-6">
							<h3>Cover</h3>
							<hr>
							<div class="form-group">
							<div image-upload config="uploader" item="item.src" ></div>
						</div>

												
					</div>
				</div>

			</form>		
		</div>

		<div class="col-md-2 col-md-offset-1">
			<aside id="edit-aside" class="well" ng-if="item.created_on">
	<strong>Crée le :</strong> {{item.created_on}} <br />
	<strong>Par : </strong><manager-user-infos userid="item.created_by" ></manager-user-infos>

	<div ng-if="item.modified_on">
		<strong>Modifié le : </strong> {{item.modified_on}} <br />
		<strong>Par : </strong><manager-user-infos userid="item.modified_by" ></manager-user-infos>
	</div>
</aside>
			<div class="panel panel-default">
				<div class="panel-heading">
					Meta
				</div>
				<div class="panel-body">
					<tabset>
													<tab heading="fr">
								<label>Titre fr</label>
								<input type="text" name="meta_title_fr" value="" id="item_meta_title_fr" ng-model="item.meta_title_fr" ng-maxlength="100"  /><div class="label label-danger" ng-show="editForm.meta_title_fr.$error.maxlength">Max. 100 caractères.</div>								<label>Keywords fr</label>
																<input
									id="page_keywords"
								    type="hidden"
								    ui-select2="select2Tags"
								    ng-model="item.meta_keywords_fr"
								    ng-if="select2Tags.tags && item"
								    >
								<label>Description fr</label>
								<textarea name="meta_description_fr" cols="40" rows="3" id="item_meta_description_fr" ng-model="item.meta_description_fr" ng-maxlength="300" ></textarea><div class="label label-danger" ng-show="editForm.meta_description_fr.$error.maxlength">Max. 300 caractères.</div>							</tab>
													<tab heading="en">
								<label>Titre en</label>
								<input type="text" name="meta_title_en" value="" id="item_meta_title_en" ng-model="item.meta_title_en" ng-maxlength="100"  /><div class="label label-danger" ng-show="editForm.meta_title_en.$error.maxlength">Max. 100 caractères.</div>								<label>Keywords en</label>
																<input
									id="page_keywords"
								    type="hidden"
								    ui-select2="select2Tags"
								    ng-model="item.meta_keywords_en"
								    ng-if="select2Tags.tags && item"
								    >
								<label>Description en</label>
								<textarea name="meta_description_en" cols="40" rows="3" id="item_meta_description_en" ng-model="item.meta_description_en" ng-maxlength="300" ></textarea><div class="label label-danger" ng-show="editForm.meta_description_en.$error.maxlength">Max. 300 caractères.</div>							</tab>
							
					</tabset>
				</div>
			</div>

		</div>
	
	</div>		
</div>