
<div id="viewTools">
	<button data-role="submit" class="btn btn-primary btn-ripple" ng-click="save(true)" ng-disabled="editForm.$invalid">Terminer<i class="fa fa-check-circle"></i></button>
<button data-role="submit" class="btn btn-primary btn-ripple" ng-click="save()" ng-disabled="editForm.$invalid">Sauver<i class="fa fa-save"></i></button>
<a data-role="cancel" class="btn btn-default btn-ripple" href="#/{{backUrl ? backUrl : section}}">Retour<i class="fa fa-reply"></i></a>
<button data-role="delete" ng-if="mode != 'new'" class="btn btn-danger btn-ripple" ng-click="delete()">Supprimer<i class="fa fa-trash-o"></i></button>
<span id="mainAlert">{{alert}}</span>
</div>

<div>
	<h1>Template {{'#' + item.id + ' ' + item.name}}</h1>
	<hr />
	<div error-sumary></div>

	<div class="row">
		<div class="col-md-9">
			<form name="editForm" class="form form-horizontal" novalidate>
				<div class="row">
					<div class="col-md-6">
						<div class="form-group">
							<label class="control-label col-sm-2" for"inputName">Nom</label>
							<div class="controls col-sm-6">
								<input type="text" name="name" value="" id="item_name" ng-model="item.name" ng-maxlength="40" data-required="true"  /><div class="label label-danger" ng-show="editForm.name.$error.required && editForm.name.$dirty">Ce champ est requis</div><div class="label label-danger" ng-show="editForm.name.$error.maxlength">Max. 40 caractères.</div>							</div>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group">
							<label class="control-label col-sm-2" for"inputName">Type de contenu</label>
							<div class="controls col-sm-6">
								<select name="type" ui-select2 ng-model="item.type">
<option value="database">Base de donnée</option>
<option value="file">Fichier</option>
</select><div class="label label-danger" ng-show="editForm.type.$error.maxlength">Max. 40 caractères.</div>							</div>
						</div>
					</div>
				</div>
				
				<div class="control-group" ng-if="item.type == 'file'">
					<label>Contenu</label>
					<select name="type" ng-model='item.content'>
						<option ng-repeat="templateFile in templateFiles" value="{{templateFile}}">{{templateFile}}</option>
					</select>
				</div>

				<div class="control-group" ng-if="item.type == 'database'">
					<label>Contenu</label>
					<textarea name="content" cols="40" rows="10" id="item_content" ng-model="item.content" ng-maxlength="10000" data-required="true" style="height: 0pc; opacity: 0" ></textarea><div ui-ace="aceConfig" ng-model="item.content" style="height: 400px"></div><div class="label label-danger" ng-show="editForm.content.$error.required && editForm.content.$dirty">Ce champ est requis</div><div class="label label-danger" ng-show="editForm.content.$error.maxlength">Max. 10000 caractères.</div>				</div>
			</form>
		</div>

		<div class="col-md-2 col-md-offset-1">
			<aside id="edit-aside" class="well" ng-if="item.created_on">
	<strong>Crée le :</strong> {{item.created_on}} <br />
	<strong>Par : </strong><manager-user-infos userid="item.created_by" ></manager-user-infos>

	<div ng-if="item.modified_on">
		<strong>Modifié le : </strong> {{item.modified_on}} <br />
		<strong>Par : </strong><manager-user-infos userid="item.modified_by" ></manager-user-infos>
	</div>
</aside>		</div>
	</div>
	
</div>