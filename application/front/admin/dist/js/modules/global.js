angular.module("Peaks.Global",["Peaks.Global.Repositories","Peaks.Global.Services","Peaks.Global.Directives"]),angular.module("Peaks.Global.Services",[]),angular.module("Peaks.Global.Directives",[]),angular.module("Peaks.Global.Repositories",[]),angular.module("Peaks.Global.Directives").directive("iconsPicker",["IconsRepository",function(iconsRepository){return{scope:{icon:"=ngModel"},template:'<script type="text/ng-template" id="customTemplate.html"><a><i class="fa {{match.label}}"></i>&nbsp;&nbsp;<span ng-bind-html="match.label | typeaheadHighlight:query" ></span></a></script><div class="input-group"><input class="form-control" type="text" ng-model="icon" typeahead="icon for icon in faIcons | filter:$viewValue | limitTo:8" typeahead-template-url="customTemplate.html" class="form-control" /><div class="input-group-addon"><i class="fa {{icon}}"></i></div></div>',link:function(scope){scope.faIcons=[],iconsRepository.IconList(function(data){scope.faIcons=data})}}}]),angular.module("Peaks.Global.Repositories").factory("IconsRepository",["$http",function($http){var iconsCache=!1;return{IconList:function(callback){return iconsCache?void callback(iconsCache):void $http.get("/admin_helpers/icons_list").success(function(data){iconsCache=data,callback(iconsCache)})}}}]),angular.module("Peaks.Global.Repositories").factory("TagsRespository",["$http",function($http){new Array;return{tagNamesList:function(callback){$http.get("/admin_global/tag_name_list").success(function(data){callback(data)})}}}]),angular.module("Peaks.Global.Services").factory("UrlService",["$http","PagesRepository",function($http,pagesRepository){function RouteModel(value,name){return{value:value,name:name}}function getPagesElements(callback){cache.Pages&&callback(cache.Pages),pagesRepository.getPageList("fr",function(data){cache.Pages=data.items,callback(cache.Pages)})}function getNewsElements(urlFunction,callback){switch(cache.News[urlFunction]&&callback(cache.News[urlFunction]),urlFunction){case"category":$http.get("/admin_news/categories_list").success(function(data){cache.News[urlFunction]=data.items,cache.News[urlFunction].unshift({id:"all",title:"Toutes"}),callback(cache.News[urlFunction])});break;case"item":$http.get("/admin_news/news_list").success(function(data){cache.News[urlFunction]=data.items,callback(cache.News[urlFunction])})}}function getPortfolioElements(urlFunction,callback){switch(cache.Portfolio[urlFunction]&&callback(cache.Portfolio[urlFunction]),urlFunction){case"category":$http.get("/admin_portfolio/categories_list").success(function(data){cache.Portfolio[urlFunction]=data.items,cache.Portfolio[urlFunction].unshift({id:"all",title:"Toutes"}),callback(cache.Portfolio[urlFunction])});break;case"item":$http.get("/admin_portfolio/portfolio_list").success(function(data){cache.Portfolio[urlFunction]=data.items,callback(cache.Portfolio[urlFunction])})}}var cache={Page:!1,News:{category:!1,item:!1},Portfolio:{category:!1,item:!1}};return{GetFunctions:function(module){var response=[];switch(module){case"pages":response=[RouteModel("page","Page")];break;case"news":response=[RouteModel("category","Catégorie"),RouteModel("item","News")];break;case"portfolio":response=[RouteModel("category","Catégorie"),RouteModel("item","Projet")];break;default:response=[]}return response},GetElements:function(module,urlFunction,callback){switch(module){case"pages":getPagesElements(callback);break;case"news":response=getNewsElements(urlFunction,callback);break;case"portfolio":response=getPortfolioElements(urlFunction,callback);break;default:response=[]}}}}]);